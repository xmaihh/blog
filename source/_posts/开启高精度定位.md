---
title: 开启高精度定位
date: 2018-07-26 10:54:31
categories: Android Framework
tags: [Android]
toc: false
description: The great pleasure in life is doing what people say you cannot do.
---
三种定位模式
1. Hight Accuracy

2. Battery Saving

3. GPS Only 
```
        public static final int LOCATION_MODE_OFF = 0;
        public static final int LOCATION_MODE_SENSORS_ONLY = 1;
        public static final int LOCATION_MODE_BATTERY_SAVING = 2;
        public static final int LOCATION_MODE_HIGH_ACCURACY = 3
```
设置界面的定位设置相关代码路径：
1. ```/packages/apps/Settings/src/com/android/settings/location/LocationSettings.java```
2. ```/packages/apps/Settings/src/com/android/settings/location/LocationSettingsBase.java```


设置：
```
Settings.Secure.getInt(activityUnderTest.getContentResolver(), Settings.Secure.LOCATION_MODE);
```
初始化值：
```frameworks\base\packages\SettingsProvider\src\com\android\providers\settings\DatabaseHelper.java```里面有loadSecureSetting()方法在这里添加
