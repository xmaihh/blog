---
title: Java位运算(移位、与、或、异或、非)
date: 2019-11-05 11:57:22
categories: Android Framework
tags: [Android]
toc: false
description: 自分の欠点を 直視し認めることです。 ただし 欠点に振り回され てはいけません。
---

Java的位运算符：左移（<<）、右移（>>）、无符号右移（>>>）、与（&）、异或（|）、非（\~）
除了 非(\~) 是一元操作符外，其他都是二元操作符。

| 运算符 | 运算 | 说明 |
| --- | --- | --- |
| << | 左移 |空位补0,被移除的高位丢失 |
| >> | 右移 | 被移位的二进制最高位是0,右移后，空缺位补0,最高位是1,最高位补1 |
| >>> | 无符号右移 | 被移位的二进制无论是０或者是１，空缺位都是用０补　|
| & | 与运算 | 任何二进制位和0进行&运算，结果都是0，和１进行&运算，都是原值　|
| l | 或运算 | 任何二进制位和０进行或运算，结果都是原值，和1进行或运算，都是1 |
| ^ | 异或运算 | 任何相同二进制位进行异或运算，结果都是０，不同二进制位进行异或运算，结果都是１　|
| ~ | 非运算 | 反转操作数的二进制位，即0变成1，1变成0　|

1. 左移(<<)

   ​	示例1: 将５左移２位

   ```java
   package io.github.code;
   
   public class Test {
       public static void main(String[] args) {
           System.out.println(5 << 2);//运行结果是20
       }
   }
   ```

   `java`中，整数默认就是`int`类型32位，首先将５转为二进制表示:

   ```shell
   0000 0000 0000 0000 0000 0000 0000 0101      然后左移2位后，低位补0

   0000 0000 0000 0000 0000 0000 0001 0100      换算成10进制为20
   ```

2. 右移(>>)

   ​	示例2: 将５右移２位
   ```java
   System.out.println(5>>2);//运行结果是1
   ```
   
   还是先将５转为二进制表示:
   
   ```shell
   0000 0000 0000 0000 0000 0000 0000 0101      然后右移2位，高位补0

   0000 0000 0000 0000 0000 0000 0000 0001      换算成10进制为１
   ```

3. 无符号右移(>>>)

   ​	示例3: 分别将５右移3位、将-５右移３位、将-5无符号右移３位
   ```java
   System.out.println(5>>3);//结果是0
   System.out.println(-5>>3);//结果是-1
   System.out.println(-5>>>3);//结果是536870911
   ```
   还是来看看位移过程:
   ```shell
   5换算成二进制： 0000 0000 0000 0000 0000 0000 0000 0101
   5右移3位后结果为0，0的二进制为： 0000 0000 0000 0000 0000 0000 0000 0000
   
   -5换算成二进制： 1111 1111 1111 1111 1111 1111 1111 1011
   -5右移3位后结果为-1，-1的二进制为： 1111 1111 1111 1111 1111 1111 1111 1111
   -5无符号右移3位后的结果 536870911 换算成二进制： 0001 1111 1111 1111 1111 1111 1111 1111
   ```

> 正数右移，高位用0补，负数右移，高位用1补，当负数使用无符号右移时，用0进行部位(自然而然的，就由负数变成了正数了)

4. 与(&)

   ​	示例4: 5&3 进行与运算
   ```java
   System.out.println(5 & 3);//结果为1
   ```
   转换为二进制比较:
   ```shell
   5转换为二进制：0000 0000 0000 0000 0000 0000 0000 0101
   3转换为二进制：0000 0000 0000 0000 0000 0000 0000 0011
   
   1转换为二进制：0000 0000 0000 0000 0000 0000 0000 0001
   ```
   >与(&)第一个操作数的的第n位于第二个操作数的第n位如果都是1，那么结果的第n为也为1，否则为0

5. 或(|)

   ​	示例5: 5|3 进行或运算
   ```java
   System.out.println(5 | 3);//结果为7
   ```
   转换为二进制比较:
   ```shell
   5转换为二进制：0000 0000 0000 0000 0000 0000 0000 0101
   3转换为二进制：0000 0000 0000 0000 0000 0000 0000 0011
   
   7转换为二进制：0000 0000 0000 0000 0000 0000 0000 0111
   ```
   >或(|)第一个操作数的的第n位于第二个操作数的第n位 只要有一个是1，那么结果的第n为也为1，否则为0

6. 异或(^)

   ​	示例6: 5^3 进行异或运算
   ```java
   System.out.println(5 ^ 3);//结果为6
   ```
   转换为二进制比较:
   ```shell
   5转换为二进制：0000 0000 0000 0000 0000 0000 0000 0101
   3转换为二进制：0000 0000 0000 0000 0000 0000 0000 0011

   6转换为二进制：0000 0000 0000 0000 0000 0000 0000 0110
   ```
   >异或(^)第一个操作数的的第n位于第二个操作数的第n位 相反，那么结果的第n为也为1，否则为0

7. 非(~)

   ​	示例7: ~5 进行非运算
   ```java
   System.out.println(~5);//结果为-6
   ```
   转换为二进制比较:
   ```shell
   5转换为二进制：0000 0000 0000 0000 0000 0000 0000 0101
   -6转换为二进制：1111 1111 1111 1111 1111 1111 1111 1010
   ```
   >非：操作数的第n位为1，那么结果的第n位为0，反之。
   

位运算操作符衍生而来的有：

-  &= 按位与赋值
  
- |= 按位或赋值
  
- ^= 按位非赋值

- \>>= 右移赋值

- = 无符号右移赋值

- <<= 赋值左移

和 += 一个概念。

示例:
```java
int a = 5
a &= 3; //此时等同于　a = a&3　即　ａ = 5＆３; 
System.out.println(a);//结果是1
```

# Reference

[Java 位运算](https://blog.csdn.net/xiaochunyong/article/details/7748713)